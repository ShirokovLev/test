if(document.cookie)for(var elem,elems=document.getElementsByClassName("star"),i=0;elem=elems[i++];)elem.dataset.rate===document.cookie.substr(-1)&&(elem.classList.add("rated"),document.getElementById("rate-number").innerHTML=elem.dataset.rate);else document.getElementById("stars").addEventListener("click",function(e){if(""===document.cookie){var t=e.target.parentNode.parentNode;if("span"!=t.tagName.toLowerCase())return;t.classList.contains("rated")?t.classList.remove("rated"):(Array.prototype.forEach.call(document.getElementsByClassName("rated"),function(e){e.classList.remove("rated")}),t.classList.add("rated"),document.cookie="rating="+t.dataset.rate,document.getElementById("rate-number").innerHTML=t.dataset.rate,console.log(document.cookie))}});function getSelectValue(){return document.getElementById("progress-select").value}var progressFiller=document.getElementById("progress-filler"),progressBar=document.getElementById("progress-bar");document.getElementById("progress-button").addEventListener("click",function(e){e.preventDefault(),progressFiller.style.width=parseInt(progressFiller.offsetWidth/progressBar.offsetWidth*100)+parseInt(getSelectValue())+"%",progressFiller.offsetWidth>=progressBar.offsetWidth?progressFiller.innerHTML="выход за границу диапазона":progressFiller.innerHTML=progressFiller.style.width});var ajaxOutput=document.querySelector("#ajax-output");document.forms.ajaxForm.onsubmit=function(e){e.preventDefault();var t=document.forms.ajaxForm.ajaxForm__input.value;t=encodeURIComponent(t);var r=new XMLHttpRequest;r.open("POST","form.php"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(ajaxOutput.textContent=r.responseText)},r.send("ajaxForm__input="+t)};